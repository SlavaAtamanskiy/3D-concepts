var renderer,scene,camera,world,start,jumping;var leftLane=-1;var rightLane=1;var middleLane=0;var currentLane;function startGame(){var c=document.getElementById("canvas");var d=window.innerWidth;var a=window.innerHeight;c.setAttribute("width",d);c.setAttribute("height",a);renderer=new THREE.WebGLRenderer({canvas:c,alpha:true});renderer.setClearColor(16775930,1);renderer.setPixelRatio=window.devicePixelRatio;renderer.shadowMap.enabled=true;renderer.shadowMap.type=THREE.PCFSoftShadowMap;scene=new THREE.Scene();camera=new THREE.PerspectiveCamera(40,d/a,0.1,1000);var b=new THREE.AmbientLight(16777215,0.5);var e=new THREE.PointLight(16777215,0.5);scene.add(b);scene.add(e);addWorld();addHero()}function loop(){world.rotation.x+=Math.PI/800;renderer.render(scene,camera);requestAnimationFrame(function(){loop()})}function addHero(){var c=new THREE.DodecahedronGeometry(35,1);var b=new THREE.MeshStandardMaterial({color:15069938,shading:THREE.FlatShading});jumping=false;var a=new THREE.Mesh(c,b);a.receiveShadow=true;a.castShadow=true;scene.add(a);a.position.set(0,-50,-300);currentLane=middleLane;a.position.x=currentLane}function addWorld(){var c=600;var q=600;var o=new THREE.SphereGeometry(2000,c,q);var n=new THREE.MeshStandardMaterial({color:65280,shading:THREE.FlatShading});var b;var l=new THREE.Vector3();var k=new THREE.Vector3();var m=new THREE.Vector3();var g=new THREE.Vector3();var e=1;var d=0.5;var p;var r=2.5;var a=0;for(var f=1;f<q-2;f++){e=f;for(var h=0;h<c;h++){b=(e*c)+1;l=o.vertices[h+b].clone();if(f%2!==0){if(h==0){m=l.clone()}k=o.vertices[h+b+1].clone();if(h==c-1){k=m}d=(Math.random()*(1.75-1.25))+0.25;l.lerp(k,d);a++}p=(a===200)?Math.random()*20-Math.random()*20:(Math.random()*r)-(r/2);g=l.clone().normalize().multiplyScalar(p);o.vertices[h+b]=(l.add(g));if(a===200){a=0}}}world=new THREE.Mesh(o,n);world.rotation.z=90;world.position.set(0,-2000,-800);world.receiveShadow=true;world.castShadow=true;scene.add(world)}window.onload=function(){startGame();loop()};